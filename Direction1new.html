<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Simple Polylines</title>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
	<script>
	
	// This function populates the infowindow when the marker is clicked. We'll only allow
      // one infowindow which will open at the marker that is clicked, and populate based
      // on that markers position.
      function populateInfoWindow(marker, infowindow) {
        // Check to make sure the infowindow is not already opened on this marker.
        if (infowindow.marker != marker) {
          infowindow.marker = marker;
          infowindow.setContent('<div>' + marker.title + '</div>');
          infowindow.open(map, marker);
          // Make sure the marker property is cleared if the infowindow is closed.
          infowindow.addListener('closeclick',function(){
            infowindow.setMarker = null;
          });
        }
      }

function initialize() {
  var map = new google.maps.Map(
    document.getElementById("map"), {
      center: new google.maps.LatLng(31.4526063, 74.340822),
      zoom: 13,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });
	
	
	
	
	
	
	
	
	
	
	
  var directionsService = new google.maps.DirectionsService();
  var directionsDisplay = new google.maps.DirectionsRenderer({
    map: map,
    preserveViewport: true
  });
  directionsService.route({
    origin: new google.maps.LatLng(31.4526063, 74.340822),
    destination: new google.maps.LatLng(31.464295, 74.3154317),
	provideRouteAlternatives: true,
    waypoints: [{
      stopover: false,
     

location: new google.maps.LatLng( 31.4311909, 74.2916605),
location: new google.maps.LatLng( 31.4525819, 74.340792),
location: new google.maps.LatLng( 31.4523283, 74.3424959),
location: new google.maps.LatLng( 31.4527447, 74.3405722),
location: new google.maps.LatLng( 31.4525782, 74.3407318),
location: new google.maps.LatLng( 31.4524948, 74.3409014),
location: new google.maps.LatLng( 31.4524766, 74.3408868),
location: new google.maps.LatLng( 31.4524766, 74.3408868),
location: new google.maps.LatLng( 31.4523905, 74.3409474),
location: new google.maps.LatLng( 31.4765013, 74.3249825),
location: new google.maps.LatLng( 31.4524648, 74.3409617),
location: new google.maps.LatLng( 31.4525537, 74.3408268),
location: new google.maps.LatLng( 31.4525582, 74.3407547),
location: new google.maps.LatLng( 31.4523283, 74.3424959),
location: new google.maps.LatLng( 31.476507, 74.3252749),
location: new google.maps.LatLng( 31.4521955, 74.340235),
location: new google.maps.LatLng( 31.4523283, 74.3424959),
location: new google.maps.LatLng( 31.4523492, 74.3410597),
location: new google.maps.LatLng( 31.4526356, 74.3408971),
location: new google.maps.LatLng( 31.4522544, 74.3409409),
location: new google.maps.LatLng( 31.4524516, 74.3409409),
location: new google.maps.LatLng( 31.4526846, 74.3407622),

    }],
    travelMode: google.maps.TravelMode.DRIVING
  }, function(response, status) {
    if (status === google.maps.DirectionsStatus.OK) {
      // directionsDisplay.setDirections(response);
      var polyline = new google.maps.Polyline({
        path: [],
        strokeColor: '#0000FF',
        strokeWeight: 3
      });
      var bounds = new google.maps.LatLngBounds();
        window.alert(response.routes.length);
      for (l = 0; l < response.routes.length; l++) {
	  
      var legs = response.routes[l].legs;
      for (i = 0; i < legs.length; i++) {
        var steps = legs[i].steps;
        for (j = 0; j < steps.length; j++) {
          var nextSegment = steps[j].path;
          for (k = 0; k < nextSegment.length; k++) {
            polyline.getPath().push(nextSegment[k]);
            bounds.extend(nextSegment[k]);
          }
        }
      }
	}

      polyline.setMap(map);
    } else {
      window.alert('Directions request failed due to ' + status);
    }
  });
  
  /*   */
   var directionsService = new google.maps.DirectionsService();
  var directionsDisplay = new google.maps.DirectionsRenderer({
    map: map,
    preserveViewport: true
  });
  directionsService.route({
    origin: new google.maps.LatLng(31.4311909, 74.2916605),
    destination: new google.maps.LatLng(31.4524948, 74.3409014),
	provideRouteAlternatives: true,
    waypoints: [{
      stopover: true,
     


location: new google.maps.LatLng( 31.4526257, 74.3407843),
location: new google.maps.LatLng( 31.4525755, 74.3409002),
location: new google.maps.LatLng( 31.452607, 74.3406992),
location: new google.maps.LatLng( 31.4525481, 74.3407636),
location: new google.maps.LatLng( 31.4524883, 74.3406944),
location: new google.maps.LatLng( 31.4526236, 74.3408754),
location: new google.maps.LatLng( 31.4526933, 74.3409321),
location: new google.maps.LatLng( 31.4526759, 74.3407847),
location: new google.maps.LatLng( 31.4524948, 74.3409014),
location: new google.maps.LatLng( 31.4526093, 74.340891),
location: new google.maps.LatLng( 31.4525819, 74.340792),
location: new google.maps.LatLng( 31.4311909, 74.2916605),
location: new google.maps.LatLng( 31.4525874, 74.340828),
location: new google.maps.LatLng( 31.4526368, 74.3407405),
location: new google.maps.LatLng( 31.4525956, 74.3407952),
location: new google.maps.LatLng( 31.4524692, 74.3409135),
location: new google.maps.LatLng( 31.4525809, 74.340841),
location: new google.maps.LatLng( 31.4527447, 74.3405722),
location: new google.maps.LatLng( 31.4765013, 74.3249825),
location: new google.maps.LatLng( 31.4526846, 74.3407622),
location: new google.maps.LatLng( 31.4526388, 74.3407846),
location: new google.maps.LatLng( 31.4525125, 74.3408394),
location: new google.maps.LatLng( 31.4526031, 74.3409315),


    }],
    travelMode: google.maps.TravelMode.DRIVING
  }, function(response, status) {
    if (status === google.maps.DirectionsStatus.OK) {
      // directionsDisplay.setDirections(response);
      var polyline = new google.maps.Polyline({
        path: [],
        strokeColor: '#0000FF',
        strokeWeight: 3
      });
      var bounds = new google.maps.LatLngBounds();

   for (l = 0; l < response.routes.length; l++) {
      var legs = response.routes[l].legs;
      for (i = 0; i < legs.length; i++) {
        var steps = legs[i].steps;
        for (j = 0; j < steps.length; j++) {
          var nextSegment = steps[j].path;
          for (k = 0; k < nextSegment.length; k++) {
            polyline.getPath().push(nextSegment[k]);
            bounds.extend(nextSegment[k]);
          }
        }
      }
}
      polyline.setMap(map);
    } else {
      window.alert('Directions request failed due to ' + status);
    }
  });
  
  
  
  
  
  /*  */
  
  /*   */
   var directionsService = new google.maps.DirectionsService();
  var directionsDisplay = new google.maps.DirectionsRenderer({
    map: map,
    preserveViewport: true
  });
  directionsService.route({
    origin: new google.maps.LatLng(31.4526368, 74.3407405),
    destination: new google.maps.LatLng(31.4526968, 74.3408791),
	provideRouteAlternatives: true,
    waypoints: [{
      stopover: false,
     
location: new google.maps.LatLng( 31.452623, 74.3408022),
location: new google.maps.LatLng( 31.4525941, 74.340877),
location: new google.maps.LatLng( 31.4527309, 74.3408458),
location: new google.maps.LatLng( 31.4526502, 74.340815),
location: new google.maps.LatLng( 31.4524948, 74.3409014),
location: new google.maps.LatLng( 31.452473, 74.3409549),
location: new google.maps.LatLng( 31.4522716, 74.3409412),
location: new google.maps.LatLng( 31.4524948, 74.3409014),
location: new google.maps.LatLng( 31.4526382, 74.3408451),
location: new google.maps.LatLng( 31.4523807, 74.3409449),
location: new google.maps.LatLng( 31.4527447, 74.3405722),
location: new google.maps.LatLng( 31.4526759, 74.3407847),
location: new google.maps.LatLng( 31.4765013, 74.3249825),
location: new google.maps.LatLng( 31.4521955, 74.340235),
location: new google.maps.LatLng( 31.4526368, 74.3407405),
location: new google.maps.LatLng( 31.4766783, 74.324855),






    }],
    travelMode: google.maps.TravelMode.DRIVING
  }, function(response, status) {
    if (status === google.maps.DirectionsStatus.OK) {
      // directionsDisplay.setDirections(response);
      var polyline = new google.maps.Polyline({
        path: [],
        strokeColor: '#0000FF',
        strokeWeight: 3
      });
      var bounds = new google.maps.LatLngBounds();

 for (l = 0; l < response.routes.length; l++) {
      var legs = response.routes[l].legs;
      for (i = 0; i < legs.length; i++) {
        var steps = legs[i].steps;
        for (j = 0; j < steps.length; j++) {
          var nextSegment = steps[j].path;
          for (k = 0; k < nextSegment.length; k++) {
            polyline.getPath().push(nextSegment[k]);
            bounds.extend(nextSegment[k]);
          }
        }
      }
	  }

      polyline.setMap(map);
    } else {
      window.alert('Directions request failed due to ' + status);
    }
  });
  
  
  
  
  
  /*  */
  
   var locations1 = [
         {title: '1', location:{ lat: 31.4526063, lng: 74.340822}},
{title: '2', location:{ lat: 31.464295, lng: 74.3154317}},
{title: '3', location:{ lat: 31.4311909, lng: 74.2916605}},
{title: '4', location:{ lat: 31.4524948, lng: 74.3409014}},
{title: '5', location:{ lat: 31.4526368, lng: 74.3407405}},
{title: '6', location:{ lat: 31.4526968, lng: 74.3408791}},
];

     
      // Create a new blank array for all the listing markers.
      var markers = [];

    var largeInfowindow = new google.maps.InfoWindow();
        

        // The following group uses the location array to create an array of markers on initialize.
        for (var i = 0; i < locations1.length; i++) {
          // Get the position from the location array.
          var position = locations1[i].location;
          var title = locations1[i].title;
          // Create a marker per location, and put into markers array.
          var marker = new google.maps.Marker({
            map: map,
            position: position,
            title: title,
            animation: google.maps.Animation.DROP,
            id: i
          });
          // Push the marker to our array of markers.
         markers.push(marker);
          // Create an onclick event to open an infowindow at each marker.
          marker.addListener('click', function() {
            populateInfoWindow(this, largeInfowindow);
          });
         // bounds.extend(markers[i].position);
        }
        // Extend the boundaries of the map for each marker
      //  map.fitBounds(bounds);
	
  
  
  
  
  
  
  
  
  
  
}
//google.maps.event.addDomListener(window, "load", initialize);
</script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAmm-IbEkpJ98p5Vu9UH31dn_P7fqQYxis&callback=initialize">
    </script>
  </body>
</html>
